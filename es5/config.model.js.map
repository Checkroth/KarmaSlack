{"version":3,"sources":["config.model.js"],"names":[],"mappings":";;;;;;;;;;;;wBAAqB,UAAU;;;;oCACT,wBAAwB;;;;AAE9C,IAAI,YAAY,GAAG,sBAAS,MAAM,CAAC;AAClC,OAAM,EAAE,MAAM;AACd,WAAU,EAAE,MAAM;AAClB,eAAc,EAAE,MAAM;AACtB,cAAa,EAAE,MAAM;AACrB,SAAQ,EAAE,MAAM;AAChB,QAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAE,WAAS,IAAI,CAAC,GAAG,EAAC;CACxC,CAAC,CAAC;;IAEG,WAAW;UAAX,WAAW;wBAAX,WAAW;;;cAAX,WAAW;;SAEH,gBAAC,IAAI,EAAC;;;;;;;AAOlB,OAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;AACvB,UAAO,IAAI,CAAC,KAAK,CAAC,CAAC;;AAEnB,UAAO,IAAI,CAAC,gBAAgB,CAC3B,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,EACzB,IAAI,EACJ,EAAC,MAAM,EAAC,IAAI,EAAC,CACb,CAAC;GACF;;;QAjBI,WAAW;;;AAoBjB,YAAY,CAAC,MAAM,oCAAY,WAAW,CAAC,CAAC;;qBAE7B,sBAAS,KAAK,CAAC,QAAQ,EAAE,YAAY,CAAC","file":"config.model.js","sourcesContent":["import Mongoose from 'mongoose';\r\nimport LoadClass from 'mongoose-class-wrapper';\r\n\r\nvar configSchema = Mongoose.Schema({\r\n\tteamId: String,\r\n\tteamDomain: String,\r\n\tinboundWebhook: String,\r\n\toutboundToken: String,\r\n\tapiToken: String,\r\n\tcreated: {type: Date, default: Date.now}\r\n});\r\n\r\nclass ConfigModel {\r\n\r\n\tstatic update(data){\r\n\t\t\r\n\t\t/*\r\n\t\t\tWe have to remove the newly assigned _id as mongo wont update\r\n\t\t\twhen a model has a differnet _id\r\n\t\t*/\r\n\t\t\r\n\t\tdata = data.toObject();\r\n\t\tdelete data['_id'];\r\n\t\t\r\n\t\treturn this.findOneAndUpdate(\r\n\t\t\t{ 'teamId': data.teamId },\r\n\t\t\tdata,\r\n\t\t\t{upsert:true}\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconfigSchema.plugin(LoadClass, ConfigModel);\r\n\r\nexport default Mongoose.model('Config', configSchema);"],"sourceRoot":"D:\\Projects\\karma\\warm-sea-8289\\es6"}