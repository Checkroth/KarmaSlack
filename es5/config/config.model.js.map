{"version":3,"sources":["config/config.model.js"],"names":[],"mappings":";;;;;;;;;;;;wBAAqB,UAAU;;;;oCACT,wBAAwB;;;;AAE9C,IAAI,YAAY,GAAG,sBAAS,MAAM,CAAC;AAClC,OAAM,EAAE,MAAM;AACd,WAAU,EAAE,MAAM;AAClB,mBAAkB,EAAE,MAAM;AAC1B,cAAa,EAAE,MAAM;;AAErB,QAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAE,WAAS,IAAI,CAAC,GAAG,EAAC;CACxC,CAAC,CAAC;;IAEG,WAAW;UAAX,WAAW;wBAAX,WAAW;;;cAAX,WAAW;;SAEH,gBAAC,IAAI,EAAC;;;;;;;AAOlB,OAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;AACvB,UAAO,IAAI,CAAC,KAAK,CAAC,CAAC;;AAEnB,UAAO,IAAI,CAAC,gBAAgB,CAC3B,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,EACzB,IAAI,EACJ,EAAC,MAAM,EAAC,IAAI,EAAC,CACb,CAAC;GACF;;;QAjBI,WAAW;;;AAoBjB,YAAY,CAAC,MAAM,oCAAY,WAAW,CAAC,CAAC;;qBAE7B,sBAAS,KAAK,CAAC,QAAQ,EAAE,YAAY,CAAC","file":"config.model.js","sourcesContent":["import Mongoose from 'mongoose';\nimport LoadClass from 'mongoose-class-wrapper';\n\nvar configSchema = Mongoose.Schema({\n\tteamId: String,\n\tteamDomain: String,\n\tincomingWebhookUrl: String,\n\toutgoingToken: String,\n\t//apiToken: String,\n\tcreated: {type: Date, default: Date.now}\n});\n\nclass ConfigModel {\n\n\tstatic update(data){\n\t\t\n\t\t/*\n\t\t\tWe have to remove the newly assigned _id as mongo wont update\n\t\t\twhen a model has a differnet _id\n\t\t*/\n\t\t\n\t\tdata = data.toObject();\n\t\tdelete data['_id'];\n\t\t\n\t\treturn this.findOneAndUpdate(\n\t\t\t{ 'teamId': data.teamId },\n\t\t\tdata,\n\t\t\t{upsert:true}\n\t\t);\n\t}\n}\n\nconfigSchema.plugin(LoadClass, ConfigModel);\n\nexport default Mongoose.model('Config', configSchema);"],"sourceRoot":"/home/checkroth/Documents/Projects/KarmaSlack/es6"}